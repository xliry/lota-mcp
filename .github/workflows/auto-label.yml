name: Auto-label new issues

on:
    issues:
      types: [opened]

jobs:
    label:
      if: github.event.issue.user.login == 'peteromallet'
      runs-on: ubuntu-latest
      steps:
        - name: Add Lota task labels
          uses: actions/github-script@v7
          with:
            script: |
              await github.rest.issues.addLabels({
                owner: context.repo.owner,
                repo: context.repo.repo,
                issue_number: context.issue.number,
                labels: ['task', 'status:assigned', 'agent:lota']
              });
